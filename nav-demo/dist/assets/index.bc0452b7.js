var pn=Object.defineProperty,mn=Object.defineProperties;var dn=Object.getOwnPropertyDescriptors;var zt=Object.getOwnPropertySymbols;var gn=Object.prototype.hasOwnProperty,yn=Object.prototype.propertyIsEnumerable;var Ut=(e,t,r)=>t in e?pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qe=(e,t)=>{for(var r in t||(t={}))gn.call(t,r)&&Ut(e,r,t[r]);if(zt)for(var r of zt(t))yn.call(t,r)&&Ut(e,r,t[r]);return e},Ft=(e,t)=>mn(e,dn(t));var bn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Mf=bn((ae,ie)=>{const vn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const u of f)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(f){const u={};return f.integrity&&(u.integrity=f.integrity),f.referrerpolicy&&(u.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?u.credentials="include":f.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(f){if(f.ep)return;f.ep=!0;const u=r(f);fetch(f.href,u)}};vn();var we=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function me(e,t,r,i,f,u){return{tag:e,key:t,attrs:r,children:i,text:f,dom:u,domSize:void 0,state:void 0,events:void 0,instance:void 0}}me.normalize=function(e){return Array.isArray(e)?me("[",void 0,void 0,me.normalizeChildren(e),void 0,void 0):e==null||typeof e=="boolean"?null:typeof e=="object"?e:me("#",void 0,void 0,String(e),void 0,void 0)};me.normalizeChildren=function(e){var t=[];if(e.length){for(var r=e[0]!=null&&e[0].key!=null,i=1;i<e.length;i++)if((e[i]!=null&&e[i].key!=null)!==r)throw new TypeError("Vnodes must either always have keys or never have keys!");for(var i=0;i<e.length;i++)t[i]=me.normalize(e[i])}return t};var le=me,wn=le,wr=function(){var e=arguments[this],t=this+1,r;if(e==null?e={}:(typeof e!="object"||e.tag!=null||Array.isArray(e))&&(e={},t=this),arguments.length===t+1)r=arguments[t],Array.isArray(r)||(r=[r]);else for(r=[];t<arguments.length;)r.push(arguments[t++]);return wn("",e.key,e,r)},_r=le,_n=wr,An=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Ar={},Ae={}.hasOwnProperty;function qt(e){for(var t in e)if(Ae.call(e,t))return!1;return!0}function Tn(e){for(var t,r="div",i=[],f={};t=An.exec(e);){var u=t[1],l=t[2];if(u===""&&l!=="")r=l;else if(u==="#")f.id=l;else if(u===".")i.push(l);else if(t[3][0]==="["){var c=t[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),t[4]==="class"?i.push(c):f[t[4]]=c===""?c:c||!0}}return i.length>0&&(f.className=i.join(" ")),Ar[e]={tag:r,attrs:f}}function On(e,t){var r=t.attrs,i=_r.normalizeChildren(t.children),f=Ae.call(r,"class"),u=f?r.class:r.className;if(t.tag=e.tag,t.attrs=null,t.children=void 0,!qt(e.attrs)&&!qt(r)){var l={};for(var c in r)Ae.call(r,c)&&(l[c]=r[c]);r=l}for(var c in e.attrs)Ae.call(e.attrs,c)&&c!=="className"&&!Ae.call(r,c)&&(r[c]=e.attrs[c]);(u!=null||e.attrs.className!=null)&&(r.className=u!=null?e.attrs.className!=null?String(e.attrs.className)+" "+String(u):u:e.attrs.className!=null?e.attrs.className:null),f&&(r.class=null);for(var c in r)if(Ae.call(r,c)&&c!=="key"){t.attrs=r;break}return Array.isArray(i)&&i.length===1&&i[0]!=null&&i[0].tag==="#"?t.text=i[0].children:t.children=i,t}function Pn(e){if(e==null||typeof e!="string"&&typeof e!="function"&&typeof e.view!="function")throw Error("The selector must be either a string or a component.");var t=_n.apply(1,arguments);return typeof e=="string"&&(t.children=_r.normalizeChildren(t.children),e!=="[")?On(Ar[e]||Tn(e),t):(t.tag=e,t)}var Tr=Pn,Sn=le,En=function(e){return e==null&&(e=""),Sn("<",void 0,void 0,e,void 0,void 0)},$n=le,jn=wr,xn=function(){var e=jn.apply(0,arguments);return e.tag="[",e.children=$n.normalizeChildren(e.children),e},Et=Tr;Et.trust=En;Et.fragment=xn;var Cn=Et,xe={exports:{}},U=function(e){if(!(this instanceof U))throw new Error("Promise must be called with `new`");if(typeof e!="function")throw new TypeError("executor must be a function");var t=this,r=[],i=[],f=s(r,!0),u=s(i,!1),l=t._instance={resolvers:r,rejectors:i},c=typeof setImmediate=="function"?setImmediate:setTimeout;function s(d,b){return function v(g){var _;try{if(b&&g!=null&&(typeof g=="object"||typeof g=="function")&&typeof(_=g.then)=="function"){if(g===t)throw new TypeError("Promise can't be resolved w/ itself");m(_.bind(g))}else c(function(){!b&&d.length===0&&console.error("Possible unhandled promise rejection:",g);for(var A=0;A<d.length;A++)d[A](g);r.length=0,i.length=0,l.state=b,l.retry=function(){v(g)}})}catch(A){u(A)}}}function m(d){var b=0;function v(_){return function(A){b++>0||_(A)}}var g=v(u);try{d(v(f),g)}catch(_){g(_)}}m(e)};U.prototype.then=function(e,t){var r=this,i=r._instance;function f(s,m,d,b){m.push(function(v){if(typeof s!="function")d(v);else try{u(s(v))}catch(g){l&&l(g)}}),typeof i.retry=="function"&&b===i.state&&i.retry()}var u,l,c=new U(function(s,m){u=s,l=m});return f(e,i.resolvers,u,!0),f(t,i.rejectors,l,!1),c};U.prototype.catch=function(e){return this.then(null,e)};U.prototype.finally=function(e){return this.then(function(t){return U.resolve(e()).then(function(){return t})},function(t){return U.resolve(e()).then(function(){return U.reject(t)})})};U.resolve=function(e){return e instanceof U?e:new U(function(t){t(e)})};U.reject=function(e){return new U(function(t,r){r(e)})};U.all=function(e){return new U(function(t,r){var i=e.length,f=0,u=[];if(e.length===0)t([]);else for(var l=0;l<e.length;l++)(function(c){function s(m){f++,u[c]=m,f===i&&t(u)}e[c]!=null&&(typeof e[c]=="object"||typeof e[c]=="function")&&typeof e[c].then=="function"?e[c].then(s,r):s(e[c])})(l)})};U.race=function(e){return new U(function(t,r){for(var i=0;i<e.length;i++)e[i].then(t,r)})};var Or=U,Se=Or;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=Se:window.Promise.prototype.finally||(window.Promise.prototype.finally=Se.prototype.finally),xe.exports=window.Promise):typeof we!="undefined"?(typeof we.Promise=="undefined"?we.Promise=Se:we.Promise.prototype.finally||(we.Promise.prototype.finally=Se.prototype.finally),xe.exports=we.Promise):xe.exports=Se;var _e=le,Rn=function(e){var t=e&&e.document,r,i={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function f(a){return a.attrs&&a.attrs.xmlns||i[a.tag]}function u(a,n){if(a.state!==n)throw new Error("`vnode.state` must not be modified")}function l(a){var n=a.state;try{return this.apply(n,arguments)}finally{u(a,n)}}function c(){try{return t.activeElement}catch{return null}}function s(a,n,o,h,p,w,E){for(var $=o;$<h;$++){var T=n[$];T!=null&&m(a,T,p,E,w)}}function m(a,n,o,h,p){var w=n.tag;if(typeof w=="string")switch(n.state={},n.attrs!=null&&it(n.attrs,n,o),w){case"#":d(a,n,p);break;case"<":v(a,n,h,p);break;case"[":g(a,n,o,h,p);break;default:_(a,n,o,h,p)}else O(a,n,o,h,p)}function d(a,n,o){n.dom=t.createTextNode(n.children),ce(a,n.dom,o)}var b={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function v(a,n,o,h){var p=n.children.match(/^\s*?<(\w+)/im)||[],w=t.createElement(b[p[1]]||"div");o==="http://www.w3.org/2000/svg"?(w.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+n.children+"</svg>",w=w.firstChild):w.innerHTML=n.children,n.dom=w.firstChild,n.domSize=w.childNodes.length,n.instance=[];for(var E=t.createDocumentFragment(),$;$=w.firstChild;)n.instance.push($),E.appendChild($);ce(a,E,h)}function g(a,n,o,h,p){var w=t.createDocumentFragment();if(n.children!=null){var E=n.children;s(w,E,0,E.length,o,null,h)}n.dom=w.firstChild,n.domSize=w.childNodes.length,ce(a,w,p)}function _(a,n,o,h,p){var w=n.tag,E=n.attrs,$=E&&E.is;h=f(n)||h;var T=h?$?t.createElementNS(h,w,{is:$}):t.createElementNS(h,w):$?t.createElement(w,{is:$}):t.createElement(w);if(n.dom=T,E!=null&&nn(n,E,h),ce(a,T,p),!he(n)&&(n.text!=null&&(n.text!==""?T.textContent=n.text:n.children=[_e("#",void 0,void 0,n.text,void 0,void 0)]),n.children!=null)){var j=n.children;s(T,j,0,j.length,o,null,h),n.tag==="select"&&E!=null&&on(n,E)}}function A(a,n){var o;if(typeof a.tag.view=="function"){if(a.state=Object.create(a.tag),o=a.state.view,o.$$reentrantLock$$!=null)return;o.$$reentrantLock$$=!0}else{if(a.state=void 0,o=a.tag,o.$$reentrantLock$$!=null)return;o.$$reentrantLock$$=!0,a.state=a.tag.prototype!=null&&typeof a.tag.prototype.view=="function"?new a.tag(a):a.tag(a)}if(it(a.state,a,n),a.attrs!=null&&it(a.attrs,a,n),a.instance=_e.normalize(l.call(a.state.view,a)),a.instance===a)throw Error("A view cannot return the vnode it received as argument");o.$$reentrantLock$$=null}function O(a,n,o,h,p){A(n,o),n.instance!=null?(m(a,n.instance,o,h,p),n.dom=n.instance.dom,n.domSize=n.dom!=null?n.instance.domSize:0):n.domSize=0}function S(a,n,o,h,p,w){if(!(n===o||n==null&&o==null))if(n==null||n.length===0)s(a,o,0,o.length,h,p,w);else if(o==null||o.length===0)X(a,n,0,n.length);else{var E=n[0]!=null&&n[0].key!=null,$=o[0]!=null&&o[0].key!=null,T=0,j=0;if(!E)for(;j<n.length&&n[j]==null;)j++;if(!$)for(;T<o.length&&o[T]==null;)T++;if($===null&&E==null)return;if(E!==$)X(a,n,j,n.length),s(a,o,T,o.length,h,p,w);else if($){for(var K=n.length-1,z=o.length-1,Fe,G,D,q,L,ut;K>=j&&z>=T&&(q=n[K],L=o[z],q.key===L.key);)q!==L&&x(a,q,L,h,p,w),L.dom!=null&&(p=L.dom),K--,z--;for(;K>=j&&z>=T&&(G=n[j],D=o[T],G.key===D.key);)j++,T++,G!==D&&x(a,G,D,h,Q(n,j,p),w);for(;K>=j&&z>=T&&!(T===z||G.key!==L.key||q.key!==D.key);)ut=Q(n,j,p),k(a,q,ut),q!==D&&x(a,q,D,h,ut,w),++T<=--z&&k(a,G,p),G!==L&&x(a,G,L,h,p,w),L.dom!=null&&(p=L.dom),j++,K--,q=n[K],L=o[z],G=n[j],D=o[T];for(;K>=j&&z>=T&&q.key===L.key;)q!==L&&x(a,q,L,h,p,w),L.dom!=null&&(p=L.dom),K--,z--,q=n[K],L=o[z];if(T>z)X(a,n,j,K+1);else if(j>K)s(a,o,T,z+1,h,p,w);else{var hn=p,Mt=z-T+1,Pe=new Array(Mt),lt=0,N=0,st=2147483647,ct=0,Fe,ht;for(N=0;N<Mt;N++)Pe[N]=-1;for(N=z;N>=T;N--){Fe==null&&(Fe=ee(n,j,K+1)),L=o[N];var ve=Fe[L.key];ve!=null&&(st=ve<st?ve:-1,Pe[N-T]=ve,q=n[ve],n[ve]=null,q!==L&&x(a,q,L,h,p,w),L.dom!=null&&(p=L.dom),ct++)}if(p=hn,ct!==K-j+1&&X(a,n,j,K+1),ct===0)s(a,o,T,z+1,h,p,w);else if(st===-1)for(ht=se(Pe),lt=ht.length-1,N=z;N>=T;N--)D=o[N],Pe[N-T]===-1?m(a,D,h,w,p):ht[lt]===N-T?lt--:k(a,D,p),D.dom!=null&&(p=o[N].dom);else for(N=z;N>=T;N--)D=o[N],Pe[N-T]===-1&&m(a,D,h,w,p),D.dom!=null&&(p=o[N].dom)}}else{var ft=n.length<o.length?n.length:o.length;for(T=T<j?T:j;T<ft;T++)G=n[T],D=o[T],!(G===D||G==null&&D==null)&&(G==null?m(a,D,h,w,Q(n,T+1,p)):D==null?ze(a,G):x(a,G,D,h,Q(n,T+1,p),w));n.length>ft&&X(a,n,T,n.length),o.length>ft&&s(a,o,T,o.length,h,p,w)}}}function x(a,n,o,h,p,w){var E=n.tag,$=o.tag;if(E===$){if(o.state=n.state,o.events=n.events,cn(o,n))return;if(typeof E=="string")switch(o.attrs!=null&&ot(o.attrs,o,h),E){case"#":Y(n,o);break;case"<":J(a,n,o,w,p);break;case"[":I(a,n,o,h,p,w);break;default:C(n,o,h,w)}else F(a,n,o,h,p,w)}else ze(a,n),m(a,o,h,w,p)}function Y(a,n){a.children.toString()!==n.children.toString()&&(a.dom.nodeValue=n.children),n.dom=a.dom}function J(a,n,o,h,p){n.children!==o.children?(Lt(a,n),v(a,o,h,p)):(o.dom=n.dom,o.domSize=n.domSize,o.instance=n.instance)}function I(a,n,o,h,p,w){S(a,n.children,o.children,h,p,w);var E=0,$=o.children;if(o.dom=null,$!=null){for(var T=0;T<$.length;T++){var j=$[T];j!=null&&j.dom!=null&&(o.dom==null&&(o.dom=j.dom),E+=j.domSize||1)}E!==1&&(o.domSize=E)}}function C(a,n,o,h){var p=n.dom=a.dom;h=f(n)||h,n.tag==="textarea"&&(n.attrs==null&&(n.attrs={}),n.text!=null&&(n.attrs.value=n.text,n.text=void 0)),fn(n,a.attrs,n.attrs,h),he(n)||(a.text!=null&&n.text!=null&&n.text!==""?a.text.toString()!==n.text.toString()&&(a.dom.firstChild.nodeValue=n.text):(a.text!=null&&(a.children=[_e("#",void 0,void 0,a.text,void 0,a.dom.firstChild)]),n.text!=null&&(n.children=[_e("#",void 0,void 0,n.text,void 0,void 0)]),S(p,a.children,n.children,o,null,h)))}function F(a,n,o,h,p,w){if(o.instance=_e.normalize(l.call(o.state.view,o)),o.instance===o)throw Error("A view cannot return the vnode it received as argument");ot(o.state,o,h),o.attrs!=null&&ot(o.attrs,o,h),o.instance!=null?(n.instance==null?m(a,o.instance,h,w,p):x(a,n.instance,o.instance,h,p,w),o.dom=o.instance.dom,o.domSize=o.instance.domSize):n.instance!=null?(ze(a,n.instance),o.dom=void 0,o.domSize=0):(o.dom=n.dom,o.domSize=n.domSize)}function ee(a,n,o){for(var h=Object.create(null);n<o;n++){var p=a[n];if(p!=null){var w=p.key;w!=null&&(h[w]=n)}}return h}var V=[];function se(a){for(var n=[0],o=0,h=0,p=0,w=V.length=a.length,p=0;p<w;p++)V[p]=a[p];for(var p=0;p<w;++p)if(a[p]!==-1){var E=n[n.length-1];if(a[E]<a[p]){V[p]=E,n.push(p);continue}for(o=0,h=n.length-1;o<h;){var $=(o>>>1)+(h>>>1)+(o&h&1);a[n[$]]<a[p]?o=$+1:h=$}a[p]<a[n[o]]&&(o>0&&(V[p]=n[o-1]),n[o]=p)}for(o=n.length,h=n[o-1];o-- >0;)n[o]=h,h=V[h];return V.length=0,n}function Q(a,n,o){for(;n<a.length;n++)if(a[n]!=null&&a[n].dom!=null)return a[n].dom;return o}function k(a,n,o){var h=t.createDocumentFragment();Me(a,h,n),ce(a,h,o)}function Me(a,n,o){for(;o.dom!=null&&o.dom.parentNode===a;){if(typeof o.tag!="string"){if(o=o.instance,o!=null)continue}else if(o.tag==="<")for(var h=0;h<o.instance.length;h++)n.appendChild(o.instance[h]);else if(o.tag!=="[")n.appendChild(o.dom);else if(o.children.length===1){if(o=o.children[0],o!=null)continue}else for(var h=0;h<o.children.length;h++){var p=o.children[h];p!=null&&Me(a,n,p)}break}}function ce(a,n,o){o!=null?a.insertBefore(n,o):a.appendChild(n)}function he(a){if(a.attrs==null||a.attrs.contenteditable==null&&a.attrs.contentEditable==null)return!1;var n=a.children;if(n!=null&&n.length===1&&n[0].tag==="<"){var o=n[0].children;a.dom.innerHTML!==o&&(a.dom.innerHTML=o)}else if(a.text!=null||n!=null&&n.length!==0)throw new Error("Child node of a contenteditable must be trusted");return!0}function X(a,n,o,h){for(var p=o;p<h;p++){var w=n[p];w!=null&&ze(a,w)}}function ze(a,n){var o=0,h=n.state,p,w;if(typeof n.tag!="string"&&typeof n.state.onbeforeremove=="function"){var E=l.call(n.state.onbeforeremove,n);E!=null&&typeof E.then=="function"&&(o=1,p=E)}if(n.attrs&&typeof n.attrs.onbeforeremove=="function"){var E=l.call(n.attrs.onbeforeremove,n);E!=null&&typeof E.then=="function"&&(o|=2,w=E)}if(u(n,h),!o)Ue(n),et(a,n);else{if(p!=null){var $=function(){o&1&&(o&=2,o||T())};p.then($,$)}if(w!=null){var $=function(){o&2&&(o&=1,o||T())};w.then($,$)}}function T(){u(n,h),Ue(n),et(a,n)}}function Lt(a,n){for(var o=0;o<n.instance.length;o++)a.removeChild(n.instance[o])}function et(a,n){for(;n.dom!=null&&n.dom.parentNode===a;){if(typeof n.tag!="string"){if(n=n.instance,n!=null)continue}else if(n.tag==="<")Lt(a,n);else{if(n.tag!=="["&&(a.removeChild(n.dom),!Array.isArray(n.children)))break;if(n.children.length===1){if(n=n.children[0],n!=null)continue}else for(var o=0;o<n.children.length;o++){var h=n.children[o];h!=null&&et(a,h)}}break}}function Ue(a){if(typeof a.tag!="string"&&typeof a.state.onremove=="function"&&l.call(a.state.onremove,a),a.attrs&&typeof a.attrs.onremove=="function"&&l.call(a.attrs.onremove,a),typeof a.tag!="string")a.instance!=null&&Ue(a.instance);else{var n=a.children;if(Array.isArray(n))for(var o=0;o<n.length;o++){var h=n[o];h!=null&&Ue(h)}}}function nn(a,n,o){for(var h in n)tt(a,h,null,n[h],o)}function tt(a,n,o,h,p){if(!(n==="key"||n==="is"||h==null||rt(n)||o===h&&!un(a,n)&&typeof h!="object")){if(n[0]==="o"&&n[1]==="n")return Dt(a,n,h);if(n.slice(0,6)==="xlink:")a.dom.setAttributeNS("http://www.w3.org/1999/xlink",n.slice(6),h);else if(n==="style")Nt(a.dom,o,h);else if(It(a,n,p)){if(n==="value"&&((a.tag==="input"||a.tag==="textarea")&&a.dom.value===""+h&&a.dom===c()||a.tag==="select"&&o!==null&&a.dom.value===""+h||a.tag==="option"&&o!==null&&a.dom.value===""+h))return;a.tag==="input"&&n==="type"?a.dom.setAttribute(n,h):a.dom[n]=h}else typeof h=="boolean"?h?a.dom.setAttribute(n,""):a.dom.removeAttribute(n):a.dom.setAttribute(n==="className"?"class":n,h)}}function an(a,n,o,h){if(!(n==="key"||n==="is"||o==null||rt(n)))if(n[0]==="o"&&n[1]==="n"&&!rt(n))Dt(a,n,void 0);else if(n==="style")Nt(a.dom,o,null);else if(It(a,n,h)&&n!=="className"&&!(n==="value"&&(a.tag==="option"||a.tag==="select"&&a.dom.selectedIndex===-1&&a.dom===c()))&&!(a.tag==="input"&&n==="type"))a.dom[n]=null;else{var p=n.indexOf(":");p!==-1&&(n=n.slice(p+1)),o!==!1&&a.dom.removeAttribute(n==="className"?"class":n)}}function on(a,n){if("value"in n)if(n.value===null)a.dom.selectedIndex!==-1&&(a.dom.value=null);else{var o=""+n.value;(a.dom.value!==o||a.dom.selectedIndex===-1)&&(a.dom.value=o)}"selectedIndex"in n&&tt(a,"selectedIndex",null,n.selectedIndex,void 0)}function fn(a,n,o,h){if(o!=null)for(var p in o)tt(a,p,n&&n[p],o[p],h);var w;if(n!=null)for(var p in n)(w=n[p])!=null&&(o==null||o[p]==null)&&an(a,p,w,h)}function un(a,n){return n==="value"||n==="checked"||n==="selectedIndex"||n==="selected"&&a.dom===c()||a.tag==="option"&&a.dom.parentNode===t.activeElement}function rt(a){return a==="oninit"||a==="oncreate"||a==="onupdate"||a==="onremove"||a==="onbeforeremove"||a==="onbeforeupdate"}function It(a,n,o){return o===void 0&&(a.tag.indexOf("-")>-1||a.attrs!=null&&a.attrs.is||n!=="href"&&n!=="list"&&n!=="form"&&n!=="width"&&n!=="height")&&n in a.dom}var ln=/[A-Z]/g;function sn(a){return"-"+a.toLowerCase()}function nt(a){return a[0]==="-"&&a[1]==="-"?a:a==="cssFloat"?"float":a.replace(ln,sn)}function Nt(a,n,o){if(n!==o)if(o==null)a.style.cssText="";else if(typeof o!="object")a.style.cssText=o;else if(n==null||typeof n!="object"){a.style.cssText="";for(var h in o){var p=o[h];p!=null&&a.style.setProperty(nt(h),String(p))}}else{for(var h in o){var p=o[h];p!=null&&(p=String(p))!==String(n[h])&&a.style.setProperty(nt(h),p)}for(var h in n)n[h]!=null&&o[h]==null&&a.style.removeProperty(nt(h))}}function at(){this._=r}at.prototype=Object.create(null),at.prototype.handleEvent=function(a){var n=this["on"+a.type],o;typeof n=="function"?o=n.call(a.currentTarget,a):typeof n.handleEvent=="function"&&n.handleEvent(a),this._&&a.redraw!==!1&&(0,this._)(),o===!1&&(a.preventDefault(),a.stopPropagation())};function Dt(a,n,o){if(a.events!=null){if(a.events[n]===o)return;o!=null&&(typeof o=="function"||typeof o=="object")?(a.events[n]==null&&a.dom.addEventListener(n.slice(2),a.events,!1),a.events[n]=o):(a.events[n]!=null&&a.dom.removeEventListener(n.slice(2),a.events,!1),a.events[n]=void 0)}else o!=null&&(typeof o=="function"||typeof o=="object")&&(a.events=new at,a.dom.addEventListener(n.slice(2),a.events,!1),a.events[n]=o)}function it(a,n,o){typeof a.oninit=="function"&&l.call(a.oninit,n),typeof a.oncreate=="function"&&o.push(l.bind(a.oncreate,n))}function ot(a,n,o){typeof a.onupdate=="function"&&o.push(l.bind(a.onupdate,n))}function cn(a,n){do{if(a.attrs!=null&&typeof a.attrs.onbeforeupdate=="function"){var o=l.call(a.attrs.onbeforeupdate,a,n);if(o!==void 0&&!o)break}if(typeof a.tag!="string"&&typeof a.state.onbeforeupdate=="function"){var o=l.call(a.state.onbeforeupdate,a,n);if(o!==void 0&&!o)break}return!1}while(!1);return a.dom=n.dom,a.domSize=n.domSize,a.instance=n.instance,a.attrs=n.attrs,a.children=n.children,a.text=n.text,!0}return function(a,n,o){if(!a)throw new TypeError("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var h=[],p=c(),w=a.namespaceURI;a.vnodes==null&&(a.textContent=""),n=_e.normalizeChildren(Array.isArray(n)?n:[n]);var E=r;try{r=typeof o=="function"?o:void 0,S(a,a.vnodes,n,h,null,w==="http://www.w3.org/1999/xhtml"?void 0:w)}finally{r=E}a.vnodes=n,p!=null&&c()!==p&&typeof p.focus=="function"&&p.focus();for(var $=0;$<h.length;$++)h[$]()}},Pr=Rn(window),Ht=le,Ln=function(e,t,r){var i=[],f=!1,u=!1;function l(){if(f)throw new Error("Nested m.redraw.sync() call");f=!0;for(var m=0;m<i.length;m+=2)try{e(i[m],Ht(i[m+1]),c)}catch(d){r.error(d)}f=!1}function c(){u||(u=!0,t(function(){u=!1,l()}))}c.sync=l;function s(m,d){if(d!=null&&d.view==null&&typeof d!="function")throw new TypeError("m.mount(element, component) expects a component, not a vnode");var b=i.indexOf(m);b>=0&&(i.splice(b,2),e(m,[],c)),d!=null&&(i.push(m,d),e(m,Ht(d),c))}return{mount:s,redraw:c}},In=Pr,$t=Ln(In,requestAnimationFrame,console),Sr=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var t=[];for(var r in e)i(r,e[r]);return t.join("&");function i(f,u){if(Array.isArray(u))for(var l=0;l<u.length;l++)i(f+"["+l+"]",u[l]);else if(Object.prototype.toString.call(u)==="[object Object]")for(var l in u)i(f+"["+l+"]",u[l]);else t.push(encodeURIComponent(f)+(u!=null&&u!==""?"="+encodeURIComponent(u):""))}},Er=Object.assign||function(e,t){t&&Object.keys(t).forEach(function(r){e[r]=t[r]})},Nn=Sr,Dn=Er,jt=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names *must* be separated");if(t==null)return e;var r=e.indexOf("?"),i=e.indexOf("#"),f=i<0?e.length:i,u=r<0?f:r,l=e.slice(0,u),c={};Dn(c,t);var s=l.replace(/:([^\/\.-]+)(\.{3})?/g,function(A,O,S){return delete c[O],t[O]==null?A:S?t[O]:encodeURIComponent(String(t[O]))}),m=s.indexOf("?"),d=s.indexOf("#"),b=d<0?s.length:d,v=m<0?b:m,g=s.slice(0,v);r>=0&&(g+=e.slice(r,f)),m>=0&&(g+=(r<0?"?":"&")+s.slice(m,b));var _=Nn(c);return _&&(g+=(r<0&&m<0?"?":"&")+_),i>=0&&(g+=e.slice(i)),d>=0&&(g+=(i<0?"":"&")+s.slice(d)),g},Mn=jt,zn=function(e,t,r){var i=0;function f(c){return new t(c)}f.prototype=t.prototype,f.__proto__=t;function u(c){return function(s,m){typeof s!="string"?(m=s,s=s.url):m==null&&(m={});var d=new t(function(_,A){c(Mn(s,m.params),m,function(O){if(typeof m.type=="function")if(Array.isArray(O))for(var S=0;S<O.length;S++)O[S]=new m.type(O[S]);else O=new m.type(O);_(O)},A)});if(m.background===!0)return d;var b=0;function v(){--b===0&&typeof r=="function"&&r()}return g(d);function g(_){var A=_.then;return _.constructor=f,_.then=function(){b++;var O=A.apply(_,arguments);return O.then(v,function(S){if(v(),b===0)throw S}),g(O)},_}}}function l(c,s){for(var m in c.headers)if({}.hasOwnProperty.call(c.headers,m)&&s.test(m))return!0;return!1}return{request:u(function(c,s,m,d){var b=s.method!=null?s.method.toUpperCase():"GET",v=s.body,g=(s.serialize==null||s.serialize===JSON.serialize)&&!(v instanceof e.FormData),_=s.responseType||(typeof s.extract=="function"?"":"json"),A=new e.XMLHttpRequest,O=!1,S=A,x,Y=A.abort;A.abort=function(){O=!0,Y.call(this)},A.open(b,c,s.async!==!1,typeof s.user=="string"?s.user:void 0,typeof s.password=="string"?s.password:void 0),g&&v!=null&&!l(s,/^content-type$/i)&&A.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof s.deserialize!="function"&&!l(s,/^accept$/i)&&A.setRequestHeader("Accept","application/json, text/*"),s.withCredentials&&(A.withCredentials=s.withCredentials),s.timeout&&(A.timeout=s.timeout),A.responseType=_;for(var J in s.headers)({}).hasOwnProperty.call(s.headers,J)&&A.setRequestHeader(J,s.headers[J]);A.onreadystatechange=function(I){if(!O&&I.target.readyState===4)try{var C=I.target.status>=200&&I.target.status<300||I.target.status===304||/^file:\/\//i.test(c),F=I.target.response,ee;if(_==="json"?!I.target.responseType&&typeof s.extract!="function"&&(F=JSON.parse(I.target.responseText)):(!_||_==="text")&&F==null&&(F=I.target.responseText),typeof s.extract=="function"?(F=s.extract(I.target,s),C=!0):typeof s.deserialize=="function"&&(F=s.deserialize(F)),C)m(F);else{try{ee=I.target.responseText}catch{ee=F}var V=new Error(ee);V.code=I.target.status,V.response=F,d(V)}}catch(se){d(se)}},typeof s.config=="function"&&(A=s.config(A,s,c)||A,A!==S&&(x=A.abort,A.abort=function(){O=!0,x.call(this)})),v==null?A.send():typeof s.serialize=="function"?A.send(s.serialize(v)):v instanceof e.FormData?A.send(v):A.send(JSON.stringify(v))}),jsonp:u(function(c,s,m,d){var b=s.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+i++,v=e.document.createElement("script");e[b]=function(g){delete e[b],v.parentNode.removeChild(v),m(g)},v.onerror=function(){delete e[b],v.parentNode.removeChild(v),d(new Error("JSONP request failed"))},v.src=c+(c.indexOf("?")<0?"?":"&")+encodeURIComponent(s.callbackKey||"callback")+"="+encodeURIComponent(b),e.document.documentElement.appendChild(v)})}},Un=xe.exports,Fn=$t,qn=zn(window,Un,Fn.redraw),$r=function(e){if(e===""||e==null)return{};e.charAt(0)==="?"&&(e=e.slice(1));for(var t=e.split("&"),r={},i={},f=0;f<t.length;f++){var u=t[f].split("="),l=decodeURIComponent(u[0]),c=u.length===2?decodeURIComponent(u[1]):"";c==="true"?c=!0:c==="false"&&(c=!1);var s=l.split(/\]\[?|\[/),m=i;l.indexOf("[")>-1&&s.pop();for(var d=0;d<s.length;d++){var b=s[d],v=s[d+1],g=v==""||!isNaN(parseInt(v,10));if(b===""){var l=s.slice(0,d).join();r[l]==null&&(r[l]=Array.isArray(m)?m.length:0),b=r[l]++}else if(b==="__proto__")break;if(d===s.length-1)m[b]=c;else{var _=Object.getOwnPropertyDescriptor(m,b);_!=null&&(_=_.value),_==null&&(m[b]=_=g?[]:{}),m=_}}}return i},Hn=$r,xt=function(e){var t=e.indexOf("?"),r=e.indexOf("#"),i=r<0?e.length:r,f=t<0?i:t,u=e.slice(0,f).replace(/\/{2,}/g,"/");return u?(u[0]!=="/"&&(u="/"+u),u.length>1&&u[u.length-1]==="/"&&(u=u.slice(0,-1))):u="/",{path:u,params:t<0?{}:Hn(e.slice(t+1,i))}},Bn=xt,Kn=function(e){var t=Bn(e),r=Object.keys(t.params),i=[],f=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(u,l,c){return l==null?"\\"+u:(i.push({k:l,r:c==="..."}),c==="..."?"(.*)":c==="."?"([^/]+)\\.":"([^/]+)"+(c||""))})+"$");return function(u){for(var l=0;l<r.length;l++)if(t.params[r[l]]!==u.params[r[l]])return!1;if(!i.length)return f.test(u.path);var c=f.exec(u.path);if(c==null)return!1;for(var l=0;l<i.length;l++)u.params[i[l].k]=i[l].r?c[l+1]:decodeURIComponent(c[l+1]);return!0}},Gn=le,Wn=Tr,Vn=xe.exports,Jn=jt,Bt=xt,kn=Kn,Kt=Er,pt={},Qn=function(e,t){var r;function i(b,v,g){if(b=Jn(b,v),r!=null){r();var _=g?g.state:null,A=g?g.title:null;g&&g.replace?e.history.replaceState(_,A,d.prefix+b):e.history.pushState(_,A,d.prefix+b)}else e.location.href=d.prefix+b}var f=pt,u,l,c,s,m=d.SKIP={};function d(b,v,g){if(b==null)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var _=0,A=Object.keys(g).map(function(C){if(C[0]!=="/")throw new SyntaxError("Routes must start with a `/`");if(/:([^\/\.-]+)(\.{3})?:/.test(C))throw new SyntaxError("Route parameter names must be separated with either `/`, `.`, or `-`");return{route:C,component:g[C],check:kn(C)}}),O=typeof setImmediate=="function"?setImmediate:setTimeout,S=Vn.resolve(),x=!1,Y;if(r=null,v!=null){var J=Bt(v);if(!A.some(function(C){return C.check(J)}))throw new ReferenceError("Default route doesn't match any known routes")}function I(){x=!1;var C=e.location.hash;d.prefix[0]!=="#"&&(C=e.location.search+C,d.prefix[0]!=="?"&&(C=e.location.pathname+C,C[0]!=="/"&&(C="/"+C)));var F=C.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(d.prefix.length),ee=Bt(F);Kt(ee.params,e.history.state);function V(){if(F===v)throw new Error("Could not resolve default route "+v);i(v,null,{replace:!0})}se(0);function se(Q){for(;Q<A.length;Q++)if(A[Q].check(ee)){var k=A[Q].component,Me=A[Q].route,ce=k,he=s=function(X){if(he===s){if(X===m)return se(Q+1);u=X!=null&&(typeof X.view=="function"||typeof X=="function")?X:"div",l=ee.params,c=F,s=null,f=k.render?k:null,_===2?t.redraw():(_=2,t.redraw.sync())}};k.view||typeof k=="function"?(k={},he(ce)):k.onmatch?S.then(function(){return k.onmatch(ee.params,F,Me)}).then(he,V):he("div");return}V()}}return r=function(){x||(x=!0,O(I))},typeof e.history.pushState=="function"?(Y=function(){e.removeEventListener("popstate",r,!1)},e.addEventListener("popstate",r,!1)):d.prefix[0]==="#"&&(r=null,Y=function(){e.removeEventListener("hashchange",I,!1)},e.addEventListener("hashchange",I,!1)),t.mount(b,{onbeforeupdate:function(){return _=_?2:1,!(!_||pt===f)},oncreate:I,onremove:Y,view:function(){if(!(!_||pt===f)){var C=[Gn(u,l.key,l)];return f&&(C=f.render(C[0])),C}}})}return d.set=function(b,v,g){s!=null&&(g=g||{},g.replace=!0),s=null,i(b,v,g)},d.get=function(){return c},d.prefix="#!",d.Link={view:function(b){var v=b.attrs.options,g={},_,A;Kt(g,b.attrs),g.selector=g.options=g.key=g.oninit=g.oncreate=g.onbeforeupdate=g.onupdate=g.onbeforeremove=g.onremove=null;var O=Wn(b.attrs.selector||"a",g,b.children);return(O.attrs.disabled=Boolean(O.attrs.disabled))?(O.attrs.href=null,O.attrs["aria-disabled"]="true",O.attrs.onclick=null):(_=O.attrs.onclick,A=O.attrs.href,O.attrs.href=d.prefix+A,O.attrs.onclick=function(S){var x;typeof _=="function"?x=_.call(S.currentTarget,S):_==null||typeof _!="object"||typeof _.handleEvent=="function"&&_.handleEvent(S),x!==!1&&!S.defaultPrevented&&(S.button===0||S.which===0||S.which===1)&&(!S.currentTarget.target||S.currentTarget.target==="_self")&&!S.ctrlKey&&!S.metaKey&&!S.shiftKey&&!S.altKey&&(S.preventDefault(),S.redraw=!1,d.set(A,null,v))}),O}},d.param=function(b){return l&&b!=null?l[b]:l},d},Xn=$t,Zn=Qn(window,Xn),Je=Cn,jr=qn,xr=$t,B=function(){return Je.apply(this,arguments)};B.m=Je;B.trust=Je.trust;B.fragment=Je.fragment;B.mount=xr.mount;B.route=Zn;B.render=Pr;B.redraw=xr.redraw;B.request=jr.request;B.jsonp=jr.jsonp;B.parseQueryString=$r;B.buildQueryString=Sr;B.parsePathname=xt;B.buildPathname=jt;B.vnode=le;B.PromisePolyfill=Or;var y=B,Yn=[":active",":any",":checked",":default",":disabled",":empty",":enabled",":first",":first-child",":first-of-type",":fullscreen",":focus",":hover",":indeterminate",":in-range",":invalid",":last-child",":last-of-type",":left",":link",":only-child",":only-of-type",":optional",":out-of-range",":read-only",":read-write",":required",":right",":root",":scope",":target",":valid",":visited",":dir",":lang",":not",":nth-child",":nth-last-child",":nth-last-of-type",":nth-of-type","::after","::before","::first-letter","::first-line","::selection","::backdrop","::placeholder","::marker","::spelling-error","::grammar-error"],Gt={ai:"alignItems",b:"bottom",bc:"backgroundColor",br:"borderRadius",bs:"boxShadow",bi:"backgroundImage",c:"color",d:"display",f:"float",fd:"flexDirection",ff:"fontFamily",fs:"fontSize",h:"height",jc:"justifyContent",l:"left",lh:"lineHeight",ls:"letterSpacing",m:"margin",mb:"marginBottom",ml:"marginLeft",mr:"marginRight",mt:"marginTop",o:"opacity",p:"padding",pb:"paddingBottom",pl:"paddingLeft",pr:"paddingRight",pt:"paddingTop",r:"right",t:"top",ta:"textAlign",td:"textDecoration",tt:"textTransform",w:"width"},Wt=["float"].concat(Object.keys(typeof document=="undefined"?{}:Cr(document.documentElement.style)).filter(function(e){return e.indexOf("-")===-1&&e!=="length"}));function Cr(e){return e?e.hasOwnProperty("width")?e:Cr(Object.getPrototypeOf(e)):{}}var ea=/^-?-?[a-z][a-z-_0-9]*$/i,Rr=function(e,t){return t===void 0&&(t={}),function(r){return r in t?t[r]:t[r]=e(r)}};function ke(e,t,r){t in e?ke(e,"!"+t,r):e[t]=Nr(t,r)}var vt=Object.create(null,{}),wt=Object.create(null,{}),_t=/^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/,ta=Rr(function(e){var t=document.createElement("div");try{return t.style[e]="1px",t.style.setProperty(e,"1px"),t.style[e].slice(-3)==="1px"?"px":""}catch{return""}},{flex:"",boxShadow:"px",border:"px",borderTop:"px",borderRight:"px",borderBottom:"px",borderLeft:"px"});function ra(e){return e.charAt(0).toLowerCase()+e.slice(1)}function te(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=typeof t[r]=="string"?t[r]:te(e[r]||{},t[r]));return e}var na=/-([a-z])/g;function Lr(e){return e.slice(e.charAt(0)==="-"?1:0).replace(na,function(t){return t[1].toUpperCase()})}var aa=/(\B[A-Z])/g;function ia(e){return e.replace(aa,"-$1").toLowerCase()}var oa=/([A-Z])/g;function fa(e){return e.charAt(0)+(e.match(oa)||[]).join("").toLowerCase()}var ua=/&/g;function Ke(e,t,r,i){r===void 0&&(r="");var f={},u=r.indexOf("&")>-1&&r.indexOf(",")===-1?"":"&",l=[];return Object.keys(e).forEach(function(c){c.charAt(0)==="@"?l.push(c+"{"+Ke(e[c],t,r,i).join("")+"}"):typeof e[c]=="object"?l=l.concat(Ke(e[c],t,r+c,i)):f[c]=e[c]}),Object.keys(f).length&&l.unshift(((i||r.charAt(0)===" "?"":"&")+u+r).replace(ua,t).trim()+"{"+Ir(f)+"}"),l}var la=/,(?=(?:(?:[^"]*"){2})*[^"]*$)/;function Ir(e){return Object.keys(e).reduce(function(t,r){return t+sa(r.charAt(0)==="!"?r.slice(1):r,e[r])},"")}function sa(e,t){return e=e in vt?vt[e]:e,(_t.test(e)?"-":"")+(Dr(e)?e:ia(e))+":"+t+";"}function Nr(e,t){return Array.isArray(t)?t.map(function(r){return Vt(e,r)}).join(" "):typeof t=="string"?Nr(e,t.split(" ")):Vt(e,t)}function Vt(e,t){return t in wt?wt[t]:t+(isNaN(t)||t===null||t===0||t==="0"||typeof t=="boolean"||Dr(e)?"":ta(e))}function Dr(e){return e.charAt(0)==="-"&&e.charAt(1)==="-"}var Qe="b"+("000"+(Math.random()*46656|0).toString(36)).slice(-3)+("000"+(Math.random()*46656|0).toString(36)).slice(-3),de=typeof document=="object"&&document.createElement("style");de&&document.head&&document.head.appendChild(de);de&&(de.id=Qe);var mt=de&&de.sheet,Mr=!1,Be=Object.create(null,{}),Re=[],zr=0;function ca(e){Mr=e}function ha(){var e=Re.join("");return Re=[],Be=Object.create(null,{}),zr=0,e}function pa(){return Re}function Xe(e,t){if(Re.push(e),Mr)return de.textContent=Re.join(`
`);try{mt&&mt.insertRule(e,arguments.length>1?t:mt.cssRules.length)}catch{}}function ma(e){var t=JSON.stringify(e);if(t in Be)return Be[t];for(var r=Qe+ ++zr,i=Ke(e,"."+r),f=0;f<i.length;f++)Xe(i[f]);return Be[t]=r,r}var Ct=Object.create(null);function M(e,t){var r=re(M);return e&&te(r.__style,ne.apply(null,arguments)),r}function H(e,t){Object.defineProperty(M,e,{configurable:!0,value:t})}Object.defineProperties(M,{__style:{configurable:!0,writable:!0,value:{}},valueOf:{configurable:!0,writable:!0,value:function(){return"."+this.class}},toString:{configurable:!0,writable:!0,value:function(){return this.class}}});H("setDebug",ca);H("$keyframes",Oa);H("$media",da);H("$import",ya);H("$nest",ba);H("getSheet",ha);H("getRules",pa);H("helper",W);H("css",va);H("classPrefix",Qe);function re(e){var t=Object.create(M,{__style:{value:te({},e.__style)},style:{enumerable:!0,get:function(){var r=this;return Object.keys(this.__style).reduce(function(i,f){return(typeof r.__style[f]=="number"||typeof r.__style[f]=="string")&&(i[f.charAt(0)==="!"?f.slice(1):f]=r.__style[f]),i},{})}}});return e===M&&(M.__style={}),t}Wt.forEach(function(e){var t=e.match(_t);if(t){var r=ra(e.replace(_t,"$2"));if(Wt.indexOf(r)===-1){r==="flexDirection"&&(wt.flex="-"+t[1].toLowerCase()+"-flex"),vt[r]=e,H(r,kt(e)),H(Xt(r),M[r]);return}}H(e,kt(e)),H(Xt(e),M[e])});H("content",function(t){var r=re(this);return t==null||t===!1?delete r.__style.content:r.__style.content='"'+t+'"',r});Object.defineProperty(M,"class",{set:function(e){this.__class=e},get:function(){return this.__class||ma(this.__style)}});function da(e,t){var r=re(this);return e&&(r.__style["@media "+e]=ne(t)),r}var ga=/^('|"|url\('|url\(")/i;function ya(e){return e&&Xe("@import "+(ga.test(e)?e:'"'+e+'"')+";",0),re(this)}function ba(e,t){var r=re(this);return arguments.length===1?Object.keys(e).forEach(function(i){return Jt(r.__style,i,e[i])}):e&&Jt(r.__style,e,t),r}function Jt(e,t,r){var i=t.split(la).map(function(f){return f=f.trim(),(f.charAt(0)===":"||f.charAt(0)==="["?"":" ")+f}).join(",&");i in e?te(e[i],ne(r)):e[i]=ne(r)}Yn.forEach(function(e){return H("$"+Lr(e.replace(/:/g,"")),function(r,i){var f=re(this);return Rt(r)?f.__style[e]=ne.apply(null,arguments):(r||i)&&(f.__style[e+(i?"("+r+")":"")]=ne(i||r)),f})});function kt(e){return function(r){var i=re(this);return!r&&r!==0?delete i.__style[e]:arguments.length>0&&ke(i.__style,e,Array.prototype.slice.call(arguments)),i}}function va(e,t){return arguments.length===1?Object.keys(e).forEach(function(r){return Qt(r,e[r])}):Qt(e,t),re(this)}function Qt(e,t){Ke(ne(t),e,"",!0).forEach(function(r){return Xe(r)})}function W(e,t){if(arguments.length===1)return Object.keys(e).forEach(function(r){return W(r,e[r])});delete M[e],typeof t=="function"?(W[e]=t,Object.defineProperty(M,e,{configurable:!0,value:function(i){var f=re(this),u=Rt(i)?t(Ur(i,arguments)):t.apply(null,arguments);return te(f.__style,u.__style),f}})):(W[e]=ne(t),Object.defineProperty(M,e,{configurable:!0,get:function(){var r=re(this);return te(r.__style,ne(t)),r}}))}M.helper("$animate",function(e,t){return M.animation(M.$keyframes(t)+" "+e)});function Xt(e){var t=fa(e),r=Gt[t]&&Gt[t]!==e?e:t;return Ct[r]=e,r}var wa=/;(?![^("]*[)"])|\n/,_a=/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*(?![^("]*[)"])/g,Aa=/[ :]+/,Zt=Rr(function(e){var t="",r;return e.trim().replace(_a,"").split(wa).reduce(function(i,f){if(!f)return i;f=t+f.trim();var u=f.replace(Aa," ").split(" "),l=u[0],c=u.slice(1);if(t=f.charAt(f.length-1)===","?f:"",t)return i;if(f.charAt(0)===","||!ea.test(l))return i[r]+=" "+f,i;if(!l)return i;var s=l.charAt(0)==="-"&&l.charAt(1)==="-"?l:Lr(l);return r=Ct[s]||s,l in W?typeof W[l]=="function"?te(i,W[l].apply(W,c).__style):te(i,W[l]):s in W?typeof W[s]=="function"?te(i,W[s].apply(W,c).__style):te(i,W[s]):c.length>0&&ke(i,r,c),i},{})}),Ta=0,dt={};function Oa(e){var t=Object.keys(e).reduce(function(i,f){return i+f+"{"+Ir(ne(e[f]))+"}"},"");if(t in dt)return dt[t];var r=Qe+Ta++;return dt[t]=r,Xe("@keyframes "+r+"{"+t+"}"),r}function ne(e,t){var r;return typeof e=="string"?typeof t=="string"||typeof t=="number"?(r={},r[e]=t,r):Zt(e):Rt(e)?Zt(Ur(e,arguments)):e.__style||Fr(e)}function Rt(e){return Array.isArray(e)&&typeof e[0]=="string"}function Ur(e,t){for(var r="",i=0;i<e.length;i++)r+=e[i]+(t[i+1]||t[i+1]===0?t[i+1]:"");return r}function Fr(e){return Object.keys(e).reduce(function(t,r){var i=e[r];return r=Ct[r]||r,!i&&i!==0&&i!==""||(r==="content"&&i.charAt(0)!=='"'?t[r]='"'+i+'"':typeof i=="object"?t[r]=Fr(i):ke(t,r,i)),t},{})}var Pa=typeof global=="object"&&global&&global.Object===Object&&global,qr=Pa,Sa=typeof self=="object"&&self&&self.Object===Object&&self,Ea=qr||Sa||Function("return this")(),oe=Ea,$a=oe.Symbol,Te=$a,Hr=Object.prototype,ja=Hr.hasOwnProperty,xa=Hr.toString,Ee=Te?Te.toStringTag:void 0;function Ca(e){var t=ja.call(e,Ee),r=e[Ee];try{e[Ee]=void 0;var i=!0}catch{}var f=xa.call(e);return i&&(t?e[Ee]=r:delete e[Ee]),f}var Ra=Object.prototype,La=Ra.toString;function Ia(e){return La.call(e)}var Na="[object Null]",Da="[object Undefined]",Yt=Te?Te.toStringTag:void 0;function De(e){return e==null?e===void 0?Da:Na:Yt&&Yt in Object(e)?Ca(e):Ia(e)}function Le(e){return e!=null&&typeof e=="object"}var Ma=Array.isArray,Ge=Ma;function Br(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var za="[object AsyncFunction]",Ua="[object Function]",Fa="[object GeneratorFunction]",qa="[object Proxy]";function Kr(e){if(!Br(e))return!1;var t=De(e);return t==Ua||t==Fa||t==za||t==qa}var Ha=oe["__core-js_shared__"],gt=Ha,er=function(){var e=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ba(e){return!!er&&er in e}var Ka=Function.prototype,Ga=Ka.toString;function ye(e){if(e!=null){try{return Ga.call(e)}catch{}try{return e+""}catch{}}return""}var Wa=/[\\^$.*+?()[\]{}|]/g,Va=/^\[object .+?Constructor\]$/,Ja=Function.prototype,ka=Object.prototype,Qa=Ja.toString,Xa=ka.hasOwnProperty,Za=RegExp("^"+Qa.call(Xa).replace(Wa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ya(e){if(!Br(e)||Ba(e))return!1;var t=Kr(e)?Za:Va;return t.test(ye(e))}function ei(e,t){return e==null?void 0:e[t]}function Oe(e,t){var r=ei(e,t);return Ya(r)?r:void 0}var ti=Oe(oe,"WeakMap"),At=ti,ri=9007199254740991,ni=/^(?:0|[1-9]\d*)$/;function ai(e,t){var r=typeof e;return t=t==null?ri:t,!!t&&(r=="number"||r!="symbol"&&ni.test(e))&&e>-1&&e%1==0&&e<t}function Gr(e,t){return e===t||e!==e&&t!==t}var ii=9007199254740991;function Wr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ii}function oi(e){return e!=null&&Wr(e.length)&&!Kr(e)}var fi=Object.prototype;function ui(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||fi;return e===r}function li(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var si="[object Arguments]";function tr(e){return Le(e)&&De(e)==si}var Vr=Object.prototype,ci=Vr.hasOwnProperty,hi=Vr.propertyIsEnumerable,pi=tr(function(){return arguments}())?tr:function(e){return Le(e)&&ci.call(e,"callee")&&!hi.call(e,"callee")},mi=pi;function di(){return!1}var Jr=typeof ae=="object"&&ae&&!ae.nodeType&&ae,rr=Jr&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,gi=rr&&rr.exports===Jr,nr=gi?oe.Buffer:void 0,yi=nr?nr.isBuffer:void 0,bi=yi||di,Tt=bi,vi="[object Arguments]",wi="[object Array]",_i="[object Boolean]",Ai="[object Date]",Ti="[object Error]",Oi="[object Function]",Pi="[object Map]",Si="[object Number]",Ei="[object Object]",$i="[object RegExp]",ji="[object Set]",xi="[object String]",Ci="[object WeakMap]",Ri="[object ArrayBuffer]",Li="[object DataView]",Ii="[object Float32Array]",Ni="[object Float64Array]",Di="[object Int8Array]",Mi="[object Int16Array]",zi="[object Int32Array]",Ui="[object Uint8Array]",Fi="[object Uint8ClampedArray]",qi="[object Uint16Array]",Hi="[object Uint32Array]",R={};R[Ii]=R[Ni]=R[Di]=R[Mi]=R[zi]=R[Ui]=R[Fi]=R[qi]=R[Hi]=!0;R[vi]=R[wi]=R[Ri]=R[_i]=R[Li]=R[Ai]=R[Ti]=R[Oi]=R[Pi]=R[Si]=R[Ei]=R[$i]=R[ji]=R[xi]=R[Ci]=!1;function Bi(e){return Le(e)&&Wr(e.length)&&!!R[De(e)]}function Ki(e){return function(t){return e(t)}}var kr=typeof ae=="object"&&ae&&!ae.nodeType&&ae,Ce=kr&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,Gi=Ce&&Ce.exports===kr,yt=Gi&&qr.process,Wi=function(){try{var e=Ce&&Ce.require&&Ce.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch{}}(),ar=Wi,ir=ar&&ar.isTypedArray,Vi=ir?Ki(ir):Bi,Qr=Vi,Ji=Object.prototype,ki=Ji.hasOwnProperty;function Qi(e,t){var r=Ge(e),i=!r&&mi(e),f=!r&&!i&&Tt(e),u=!r&&!i&&!f&&Qr(e),l=r||i||f||u,c=l?li(e.length,String):[],s=c.length;for(var m in e)(t||ki.call(e,m))&&!(l&&(m=="length"||f&&(m=="offset"||m=="parent")||u&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||ai(m,s)))&&c.push(m);return c}function Xi(e,t){return function(r){return e(t(r))}}var Zi=Xi(Object.keys,Object),Yi=Zi,eo=Object.prototype,to=eo.hasOwnProperty;function ro(e){if(!ui(e))return Yi(e);var t=[];for(var r in Object(e))to.call(e,r)&&r!="constructor"&&t.push(r);return t}function no(e){return oi(e)?Qi(e):ro(e)}var ao=Oe(Object,"create"),Ie=ao;function io(){this.__data__=Ie?Ie(null):{},this.size=0}function oo(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var fo="__lodash_hash_undefined__",uo=Object.prototype,lo=uo.hasOwnProperty;function so(e){var t=this.__data__;if(Ie){var r=t[e];return r===fo?void 0:r}return lo.call(t,e)?t[e]:void 0}var co=Object.prototype,ho=co.hasOwnProperty;function po(e){var t=this.__data__;return Ie?t[e]!==void 0:ho.call(t,e)}var mo="__lodash_hash_undefined__";function go(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ie&&t===void 0?mo:t,this}function ge(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}ge.prototype.clear=io;ge.prototype.delete=oo;ge.prototype.get=so;ge.prototype.has=po;ge.prototype.set=go;function yo(){this.__data__=[],this.size=0}function Ze(e,t){for(var r=e.length;r--;)if(Gr(e[r][0],t))return r;return-1}var bo=Array.prototype,vo=bo.splice;function wo(e){var t=this.__data__,r=Ze(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():vo.call(t,r,1),--this.size,!0}function _o(e){var t=this.__data__,r=Ze(t,e);return r<0?void 0:t[r][1]}function Ao(e){return Ze(this.__data__,e)>-1}function To(e,t){var r=this.__data__,i=Ze(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}function fe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}fe.prototype.clear=yo;fe.prototype.delete=wo;fe.prototype.get=_o;fe.prototype.has=Ao;fe.prototype.set=To;var Oo=Oe(oe,"Map"),Ne=Oo;function Po(){this.size=0,this.__data__={hash:new ge,map:new(Ne||fe),string:new ge}}function So(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ye(e,t){var r=e.__data__;return So(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Eo(e){var t=Ye(this,e).delete(e);return this.size-=t?1:0,t}function $o(e){return Ye(this,e).get(e)}function jo(e){return Ye(this,e).has(e)}function xo(e,t){var r=Ye(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}function be(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}be.prototype.clear=Po;be.prototype.delete=Eo;be.prototype.get=$o;be.prototype.has=jo;be.prototype.set=xo;function Co(e,t){for(var r=-1,i=t.length,f=e.length;++r<i;)e[f+r]=t[r];return e}function Ro(){this.__data__=new fe,this.size=0}function Lo(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Io(e){return this.__data__.get(e)}function No(e){return this.__data__.has(e)}var Do=200;function Mo(e,t){var r=this.__data__;if(r instanceof fe){var i=r.__data__;if(!Ne||i.length<Do-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new be(i)}return r.set(e,t),this.size=r.size,this}function ue(e){var t=this.__data__=new fe(e);this.size=t.size}ue.prototype.clear=Ro;ue.prototype.delete=Lo;ue.prototype.get=Io;ue.prototype.has=No;ue.prototype.set=Mo;function zo(e,t){for(var r=-1,i=e==null?0:e.length,f=0,u=[];++r<i;){var l=e[r];t(l,r,e)&&(u[f++]=l)}return u}function Uo(){return[]}var Fo=Object.prototype,qo=Fo.propertyIsEnumerable,or=Object.getOwnPropertySymbols,Ho=or?function(e){return e==null?[]:(e=Object(e),zo(or(e),function(t){return qo.call(e,t)}))}:Uo,Bo=Ho;function Ko(e,t,r){var i=t(e);return Ge(e)?i:Co(i,r(e))}function fr(e){return Ko(e,no,Bo)}var Go=Oe(oe,"DataView"),Ot=Go,Wo=Oe(oe,"Promise"),Pt=Wo,Vo=Oe(oe,"Set"),St=Vo,ur="[object Map]",Jo="[object Object]",lr="[object Promise]",sr="[object Set]",cr="[object WeakMap]",hr="[object DataView]",ko=ye(Ot),Qo=ye(Ne),Xo=ye(Pt),Zo=ye(St),Yo=ye(At),pe=De;(Ot&&pe(new Ot(new ArrayBuffer(1)))!=hr||Ne&&pe(new Ne)!=ur||Pt&&pe(Pt.resolve())!=lr||St&&pe(new St)!=sr||At&&pe(new At)!=cr)&&(pe=function(e){var t=De(e),r=t==Jo?e.constructor:void 0,i=r?ye(r):"";if(i)switch(i){case ko:return hr;case Qo:return ur;case Xo:return lr;case Zo:return sr;case Yo:return cr}return t});var pr=pe,ef=oe.Uint8Array,mr=ef,tf="__lodash_hash_undefined__";function rf(e){return this.__data__.set(e,tf),this}function nf(e){return this.__data__.has(e)}function We(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new be;++t<r;)this.add(e[t])}We.prototype.add=We.prototype.push=rf;We.prototype.has=nf;function af(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}function of(e,t){return e.has(t)}var ff=1,uf=2;function Xr(e,t,r,i,f,u){var l=r&ff,c=e.length,s=t.length;if(c!=s&&!(l&&s>c))return!1;var m=u.get(e),d=u.get(t);if(m&&d)return m==t&&d==e;var b=-1,v=!0,g=r&uf?new We:void 0;for(u.set(e,t),u.set(t,e);++b<c;){var _=e[b],A=t[b];if(i)var O=l?i(A,_,b,t,e,u):i(_,A,b,e,t,u);if(O!==void 0){if(O)continue;v=!1;break}if(g){if(!af(t,function(S,x){if(!of(g,x)&&(_===S||f(_,S,r,i,u)))return g.push(x)})){v=!1;break}}else if(!(_===A||f(_,A,r,i,u))){v=!1;break}}return u.delete(e),u.delete(t),v}function lf(e){var t=-1,r=Array(e.size);return e.forEach(function(i,f){r[++t]=[f,i]}),r}function sf(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var cf=1,hf=2,pf="[object Boolean]",mf="[object Date]",df="[object Error]",gf="[object Map]",yf="[object Number]",bf="[object RegExp]",vf="[object Set]",wf="[object String]",_f="[object Symbol]",Af="[object ArrayBuffer]",Tf="[object DataView]",dr=Te?Te.prototype:void 0,bt=dr?dr.valueOf:void 0;function Of(e,t,r,i,f,u,l){switch(r){case Tf:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Af:return!(e.byteLength!=t.byteLength||!u(new mr(e),new mr(t)));case pf:case mf:case yf:return Gr(+e,+t);case df:return e.name==t.name&&e.message==t.message;case bf:case wf:return e==t+"";case gf:var c=lf;case vf:var s=i&cf;if(c||(c=sf),e.size!=t.size&&!s)return!1;var m=l.get(e);if(m)return m==t;i|=hf,l.set(e,t);var d=Xr(c(e),c(t),i,f,u,l);return l.delete(e),d;case _f:if(bt)return bt.call(e)==bt.call(t)}return!1}var Pf=1,Sf=Object.prototype,Ef=Sf.hasOwnProperty;function $f(e,t,r,i,f,u){var l=r&Pf,c=fr(e),s=c.length,m=fr(t),d=m.length;if(s!=d&&!l)return!1;for(var b=s;b--;){var v=c[b];if(!(l?v in t:Ef.call(t,v)))return!1}var g=u.get(e),_=u.get(t);if(g&&_)return g==t&&_==e;var A=!0;u.set(e,t),u.set(t,e);for(var O=l;++b<s;){v=c[b];var S=e[v],x=t[v];if(i)var Y=l?i(x,S,v,t,e,u):i(S,x,v,e,t,u);if(!(Y===void 0?S===x||f(S,x,r,i,u):Y)){A=!1;break}O||(O=v=="constructor")}if(A&&!O){var J=e.constructor,I=t.constructor;J!=I&&"constructor"in e&&"constructor"in t&&!(typeof J=="function"&&J instanceof J&&typeof I=="function"&&I instanceof I)&&(A=!1)}return u.delete(e),u.delete(t),A}var jf=1,gr="[object Arguments]",yr="[object Array]",He="[object Object]",xf=Object.prototype,br=xf.hasOwnProperty;function Cf(e,t,r,i,f,u){var l=Ge(e),c=Ge(t),s=l?yr:pr(e),m=c?yr:pr(t);s=s==gr?He:s,m=m==gr?He:m;var d=s==He,b=m==He,v=s==m;if(v&&Tt(e)){if(!Tt(t))return!1;l=!0,d=!1}if(v&&!d)return u||(u=new ue),l||Qr(e)?Xr(e,t,r,i,f,u):Of(e,t,s,r,i,f,u);if(!(r&jf)){var g=d&&br.call(e,"__wrapped__"),_=b&&br.call(t,"__wrapped__");if(g||_){var A=g?e.value():e,O=_?t.value():t;return u||(u=new ue),f(A,O,r,i,u)}}return v?(u||(u=new ue),$f(e,t,r,i,f,u)):!1}function Zr(e,t,r,i,f){return e===t?!0:e==null||t==null||!Le(e)&&!Le(t)?e!==e&&t!==t:Cf(e,t,r,i,Zr,f)}function Rf(e,t){return Zr(e,t)}window.m=y;y.cls=(e,t=" ")=>{let r;for(const i in e)e[i]&&(r=r==null?i:r+t+i);return r||""};const Z={INITIAL:"INITIAL",FIRST_NAV:"FIRST NAV",SAME_ROUTE:"SAME ROUTE",REDRAW:"REDRAW",BACK:"BACK",FORWARD:"FORWARD",EXISTING_ROUTE:"EXISTING_ROUTE"};let vr=y.route.set;y.route.set=(e,t,r)=>{y.nav.setRoute(e,t,r)};let P={flows:{},routes:{},isMounted:!1,historyStack:[],flattenRoutes:void 0,layoutComponent:void 0,replacingState:!1,isSkipping:!1,isRouteChange:!1,onmatchCalledCount:0,currentIndex:0,fullStack:[],flowStack:[],currentFlow:void 0,currentFlowName:void 0};function Ve(e=1){let{historyStack:t}=P,{length:r}=t;return!r||e>r?null:t[r-Math.abs(e)]}function Lf(e,t,r){let{historyStack:i}=P,{length:f}=i,u=Ve(),l=Ve(-2)||{},{path:c,params:s}=y.parsePathname(t),d=Yr({onmatchParams:{args:s,path:c,requestedPath:t,route:r}});if(!f)return i.push(d),{directionType:Z.INITIAL,rcState:d};let b=P.historyStack.find(v=>v.isEqualByPathAndArgs({args:e||{},path:c}));if(b!=null&&b.isEqualByPathAndArgs({path:c,args:s})){let v=i.indexOf(b),g=(f-(1+v))*-1;if(g=v-P.currentIndex,g===0)return P.currentIndex=v,{directionType:Z.SAME_ROUTE,rcState:u};if(g===-1)return P.currentIndex=v,i.pop(),{directionType:Z.BACK,rcState:l,prevRcState:u};if(g===1)return P.currentIndex=v,{directionType:Z.FORWARD,rcState:l,prevRcState:u};if(g<0)for(let _=g;_<0;_++)i.pop();return P.currentIndex=v,{directionType:Z.EXISTING_ROUTE,back:g,rcState:d}}return P.currentIndex++,i.push(d),{directionType:Z.FORWARD,rcState:d,prevRcState:u}}const Yr=e=>{if(!(e!=null&&e.onmatchParams))throw new Error("RouteChangeState() -- onmatchParams required");let t={onmatchParams:JSON.parse(JSON.stringify(e.onmatchParams)),anim:void 0,key:If()};return{debug(){return t},get onmatchParams(){return t.onmatchParams},key(){return t.key},isEqualByPathAndArgs(r){let{args:i,route:f}=t.onmatchParams;return Rf({args:i||{},path:f},r)}}};window.addEventListener("popstate",function(e){});window.addEventListener("hashchange",function(e){});const je=new EventTarget;y.nav=function(){let e=function(t,r,i,f){if(!i)throw new Error("m.nav() -- a routes object is required.");if(!(f!=null&&f.layoutComponent))throw new Error("m.nav() -- a layout component is required.");P.flows=Object.keys(f.flows||{}).reduce((u,l)=>(u[l]=Object.assign({},f.flows[l],{name:l}),u),{}),P.routes=i,P.layoutComponent=f.layoutComponent,Nf(),y.route(t||document.body,r,P.flattenedRouteResolvers),P.isMounted=!0};return Object.assign(e,{debug(){return P},addEventListener:je.addEventListener.bind(je),removeEventListener:je.removeEventListener.bind(je),setRoute(t,r,i={},f){let{historyStack:u}=P,{params:l}=y.parsePathname(y.buildPathname("/fake",r)),c={args:l||{},path:t},s=u.find(d=>d.isEqualByPathAndArgs(c)),m=u.indexOf(s);if(P.currentIndex===m){Object.assign(i,{replace:!0}),vr(t,r,i);return}if(s!=null&&s.isEqualByPathAndArgs(c)){let d=(u.length-(1+u.indexOf(s)))*-1;if(d=m-P.currentIndex,d<0){history.go(d);return}}(i==null?void 0:i.replace)===!0&&(P.replacingState=!0),P.anim=f,vr(t,r,i)}}),e}();function If(){return(Math.random()*Math.pow(10,16)).toFixed(0)}function en(e,t=""){return Object.keys(e).reduce((r,i)=>typeof e[i]=="function"||e[i].view||e[i].onmatch||e[i].render?Ft(qe({},r),{[t+i]:e[i]}):qe(qe({},r),en(e[i],t+i)),{})}function Nf(){P.flattenedRoutes=en(P.routes);let{flattenedRoutes:e}=P;return P.flattenedRouteResolvers=Object.keys(e).reduce((t,r)=>(t[r]=function(){let i=e[r],f,u,l={onmatch:(c,s,m)=>{P.onmatchCalledCount>0&&(P.historyStack.pop(),P.currentIndex--),P.onmatchCalledCount++;let d=Ve(),b=d&&P.flattenedRouteResolvers[d.onmatchParams.route];if(b!=null&&b.hasOwnProperty("onbeforeroutechange")){let{path:g,params:_}=y.parsePathname(s),A={args:_,path:g,requestedPath:s,route:m};b.onbeforeroutechange({lastTransitionState:f,inbound:Yr({onmatchParams:A}),outbound:d})}if(i.hasOwnProperty("onmatch")&&(u=i.onmatch(c,s,m)),u||(u=i),f=Lf(c,s,m),f.isRouteChange=()=>P.onmatchCalledCount>0,f.context={},P.replacingState){P.currentIndex--;let g=P.historyStack.indexOf(Ve(-2));P.historyStack.splice(g,1)}const v=new CustomEvent("onbeforeroutechange",{cancelable:!0,detail:{transitionState:f,outbound:d}});return je.dispatchEvent(v),u},render:c=>{let{layoutComponent:s}=P;P.onmatchCalledCount?Promise.resolve().then(()=>{P.replacingState=!1,P.isSkipping=!1,P.anim=void 0}):f.directionType=Z.REDRAW,P.onmatchCalledCount=0,P.anim&&(f.anim=P.anim);let m=f;if(!i.hasOwnProperty("render"))return c.attrs.transitionState=m,y(s,{transitionState:m},y(u,c.attrs));c.attrs.transitionState=m;let d=i.render(c);return d.tag===s?(d.attrs.transitionState=m,d):d.hasOwnProperty("items")?y(s,{cls:d.cls,layout:d.layout,items:d.items,transitionState:m}):y(s,{transitionState:m},d)}};return i.hasOwnProperty("onbeforeroutechange")&&(l.onbeforeroutechange=i.onbeforeroutechange),l}(),t),{}),P.flattenedRouteResolvers}const Df=()=>{let e=M({display:"grid",width:"100vw",height:"100vh",overflow:"hidden","grid-template-columns":"1fr 1fr 1fr","grid-template-rows":"min-content auto min-content",margin:0,padding:0});document.body.classList.add(e);let t={inbound:{},outbound:{}};return{view:({attrs:f,children:u})=>{console.log("Layout::view()",{attrs:f,_layoutState:t});let l=f.transitionState.rcState.key();return[y("header",{key:1}),y(i,{key:l},u)]},oncreate:({attrs:f})=>{console.log("Layout::oncreate()",{attrs:f,_layoutState:t});let{transitionState:u}=f;u.context=t},onupdate:({attrs:f})=>{console.log("Layout::onupdate()",{attrs:f,_layoutState:t});let{transitionState:u}=f;u.directionType!==Z.REDRAW&&u.directionType!==Z.SAME_ROUTE&&(u.context=t,Promise.resolve().then(()=>{console.log("Layout::onupdate()",t);let l=u.prevRcState.key(),c=u.rcState.key();if(!t[l])return;let{dom:s,resolver:m}=t[l]["section-main"],{dom:d}=t[c]["section-main"];if(u.anim){u.anim(u);return}if(y.route.get()==="/baz"&&u.directionType===Z.FORWARD){tn(u);return}if(y.route.get()==="/bar"&&u.directionType===Z.BACK){rn(u);return}s.classList.add("ui","transition","fade","out"),d.classList.add("ui","transition","fade","in");let b=!1;s.addEventListener("animationend",function v(){console.log("animationend"),d.classList.remove("ui","transition","fade","in"),m(),s.removeEventListener("animationend",v),b=!0}),setTimeout(()=>{console.log(l,s,m,b),b||m()},400)}))}};function r(f,u){return Object.assign(u,{oncreate:({dom:l,attrs:c,key:s})=>{console.log("addLifecycles oncreate()",f,c),t[s]={},t[s][f]={dom:l}},onbeforeremove:({dom:l,attrs:c,key:s})=>(console.log("addLifecycles onbeforeremove()",f,c),new Promise(m=>{console.log("addLifecycles onbeforeremove() -- outbound promise",m),Object.assign(t[s][f],{resolver:()=>{delete t[s],m()}})}))})}function i({attrs:f}){console.log("SectionMain()",f);let u="section"+M({"grid-area":"2 / 1 / 2 / -1",height:"100%",overflow:"hidden"});return r("section-main",{view:({attrs:l,children:c})=>y(u,{"data-value-key":l.key},c)})}};function tn(e){let{context:t}=e,r=e.prevRcState.key(),i=e.rcState.key(),{dom:f,resolver:u}=t[r]["section-main"],{dom:l}=t[i]["section-main"],c=M({transform:"translateY(100%)"}),s=M({transition:"transform 300ms",transform:"translateY(0)"});l.classList.add(c),requestAnimationFrame(()=>{l.addEventListener("transitionend",function m(d){d.propertyName==="transform"&&(l.classList.remove(s),l.style.transform="",l.removeEventListener("transitionend",m),u())}),l.classList.remove(c),l.classList.add(s)})}function rn(e){let{context:t}=e,r=e.prevRcState.key(),i=e.rcState.key(),{dom:f,resolver:u}=t[r]["section-main"];t[i]["section-main"];let l=M({transition:"transform 300ms",transform:"translateY(100%)","z-index":1});f.classList.add(l),f.addEventListener("transitionend",function c(s){s.propertyName==="transform"&&(f.removeEventListener("transitionend",c),u())})}let $e={authed:!1};y.nav(document.body,"/",{"/":{view:({attrs:e})=>(console.log("/::view()",e),[y("div",{style:"height:100%; background-color: aliceblue;"},["hello world via m.nav.init(): ",y("div",y(y.route.Link,{href:"/foo?bar=1"},"/foo")),y("div",y(y.route.Link,{href:"/bar"},"/bar")),y("div",y(y.route.Link,{href:"/list"},"/list")),y("div",y(y.route.Link,{href:"/redirect"},"/redirect")),y("div",y(y.route.Link,{href:"/testauth"},"/testauth")),y("div",y(y.route.Link,{href:"/nested"},"/nested"))])])},"/foo":{view:({attrs:e})=>(console.log("/foo::view()",e),[y("div",{style:"height:100%; background-color: antiquewhite;"},"/foo")])},"/bar":{view:()=>[y("div.ui.button",{onclick:e=>{e.redraw=!1,y.nav.setRoute("/baz",null,{state:{moo:"cow"}},t=>{console.log(t),tn(t)})}},"Slide Up In"),y("div",{style:"height:100%; background-color: aqua;"},"/bar")]},"/redirect":{onmatch:()=>{y.route.set("/list")}},"/baz":{view:()=>[y("div.ui.button",{onclick:e=>{e.redraw=!1,y.nav.setRoute("/bar",null,{state:{meow:"cat"}},t=>{console.log(t),rn(t)})}},"Slide Down Out"),y("div",{style:"height:100%; background-color: aquamarine;"},"/baz")]},"/list":function(){let e,t={};const r=i=>{let{scrollTop:f}=e;console.log("saveScrollPosition",i,{scrollTop:f}),Object.assign(t={scrollTop:f})};return{onbeforeroutechange:i=>{console.log("/list::onbeforeroutechange()",i)},view:()=>[y("div",{oncreate:({dom:i})=>{y.nav.addEventListener("onbeforeroutechange",r)},onremove:()=>{y.nav.removeEventListener("onbeforeroutechange",r)}},"scroll down, nav away and return"),y("div",{oncreate:({dom:i})=>{e=i,console.log("restoreData",t),t.scrollTop&&(i.scrollTop=t.scrollTop)},style:"max-height: calc(100% - 19px);overflow:auto;"},Array.from(Array(40).keys()).map((i,f)=>f+1).map(i=>y("div.ui.vertical.segment",y(y.route.Link,{href:`/listDetails/${i}`},`item ${i}`))))]}}(),"/listDetails/:id":{view:({attrs:e})=>[y("div",`details for: ${e.id}`),y("div","Use brower's back button"),y("div","or ",y(y.route.Link,{href:"/list"},"back"))]},"/testauth":{onmatch:()=>{if(!$e.authed){$e.loginRedirect="/testauth",y.route.set("/login");return}return{view:()=>[y("div",{style:"background-color:palegreen"},"access to an authd route"),y("button",{onclick:()=>{$e.authed=!1,y.route.set("/")}},"logout")]}}},"/login":{onmatch:()=>({view:()=>[y("div",{style:"background-color:yellow"},"login page"),y("button",{onclick:()=>{$e.authed=!0,y.route.set($e.loginRedirect,null,{replace:!0})}},"click to auth")]})},"/nested":function(){let e={view:({children:t})=>[y("div","sublayout")].concat(t)};return{"":{render:()=>y(e,[y("div","this is /nested"),y("div",y(y.route.Link,{href:"/nested/a"},"/nested/a")),y("div",y(y.route.Link,{href:"/nested/b"},"/nested/b"))])},"/a":{render:()=>y(e,y("div","this is /nested/a"))},"/b":{render:()=>y(e,y("div","this is /nested/b"))}}}()},{layoutComponent:Df})});export default Mf();
